{"ast":null,"code":"/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { __assign, __decorate, __extends } from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes } from \"../../common\";\nimport * as Errors from \"../../common/errors\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { uniqueId } from \"../../common/utils\";\nimport { Button } from \"../button/buttons\";\nimport { H4 } from \"../html/html\";\nimport { Icon, IconSize } from \"../icon/icon\";\nimport { Overlay } from \"../overlay/overlay\";\n\nvar Dialog =\n/** @class */\nfunction (_super) {\n  __extends(Dialog, _super);\n\n  function Dialog(props) {\n    var _this = _super.call(this, props) || this;\n\n    var id = uniqueId(\"bp-dialog\");\n    _this.titleId = \"title-\" + id;\n    return _this;\n  }\n\n  Dialog.prototype.render = function () {\n    return React.createElement(Overlay, __assign({}, this.props, {\n      className: Classes.OVERLAY_SCROLL_CONTAINER,\n      hasBackdrop: true\n    }), React.createElement(\"div\", {\n      className: Classes.DIALOG_CONTAINER\n    }, React.createElement(\"div\", {\n      className: classNames(Classes.DIALOG, this.props.className),\n      role: \"dialog\",\n      \"aria-labelledby\": this.props[\"aria-labelledby\"] || (this.props.title ? this.titleId : undefined),\n      \"aria-describedby\": this.props[\"aria-describedby\"],\n      style: this.props.style\n    }, this.maybeRenderHeader(), this.props.children)));\n  };\n\n  Dialog.prototype.validateProps = function (props) {\n    if (props.title == null) {\n      if (props.icon != null) {\n        console.warn(Errors.DIALOG_WARN_NO_HEADER_ICON);\n      }\n\n      if (props.isCloseButtonShown != null) {\n        console.warn(Errors.DIALOG_WARN_NO_HEADER_CLOSE_BUTTON);\n      }\n    }\n  };\n\n  Dialog.prototype.maybeRenderCloseButton = function () {\n    // show close button if prop is undefined or null\n    // this gives us a behavior as if the default value were `true`\n    if (this.props.isCloseButtonShown !== false) {\n      return React.createElement(Button, {\n        \"aria-label\": \"Close\",\n        className: Classes.DIALOG_CLOSE_BUTTON,\n        icon: React.createElement(Icon, {\n          icon: \"small-cross\",\n          size: IconSize.LARGE\n        }),\n        minimal: true,\n        onClick: this.props.onClose\n      });\n    } else {\n      return undefined;\n    }\n  };\n\n  Dialog.prototype.maybeRenderHeader = function () {\n    var _a = this.props,\n        icon = _a.icon,\n        title = _a.title;\n\n    if (title == null) {\n      return undefined;\n    }\n\n    return React.createElement(\"div\", {\n      className: Classes.DIALOG_HEADER\n    }, React.createElement(Icon, {\n      icon: icon,\n      size: IconSize.LARGE\n    }), React.createElement(H4, {\n      id: this.titleId\n    }, title), this.maybeRenderCloseButton());\n  };\n\n  Dialog.defaultProps = {\n    canOutsideClickClose: true,\n    isOpen: false\n  };\n  Dialog.displayName = DISPLAYNAME_PREFIX + \".Dialog\";\n  Dialog = __decorate([polyfill], Dialog);\n  return Dialog;\n}(AbstractPureComponent2);\n\nexport { Dialog };","map":{"version":3,"sources":["../../../../src/components/dialog/dialog.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\n * Copyright 2015 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { __assign, __decorate, __extends } from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes } from \"../../common\";\nimport * as Errors from \"../../common/errors\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { uniqueId } from \"../../common/utils\";\nimport { Button } from \"../button/buttons\";\nimport { H4 } from \"../html/html\";\nimport { Icon, IconSize } from \"../icon/icon\";\nimport { Overlay } from \"../overlay/overlay\";\nvar Dialog = /** @class */ (function (_super) {\n    __extends(Dialog, _super);\n    function Dialog(props) {\n        var _this = _super.call(this, props) || this;\n        var id = uniqueId(\"bp-dialog\");\n        _this.titleId = \"title-\" + id;\n        return _this;\n    }\n    Dialog.prototype.render = function () {\n        return (React.createElement(Overlay, __assign({}, this.props, { className: Classes.OVERLAY_SCROLL_CONTAINER, hasBackdrop: true }),\n            React.createElement(\"div\", { className: Classes.DIALOG_CONTAINER },\n                React.createElement(\"div\", { className: classNames(Classes.DIALOG, this.props.className), role: \"dialog\", \"aria-labelledby\": this.props[\"aria-labelledby\"] || (this.props.title ? this.titleId : undefined), \"aria-describedby\": this.props[\"aria-describedby\"], style: this.props.style },\n                    this.maybeRenderHeader(),\n                    this.props.children))));\n    };\n    Dialog.prototype.validateProps = function (props) {\n        if (props.title == null) {\n            if (props.icon != null) {\n                console.warn(Errors.DIALOG_WARN_NO_HEADER_ICON);\n            }\n            if (props.isCloseButtonShown != null) {\n                console.warn(Errors.DIALOG_WARN_NO_HEADER_CLOSE_BUTTON);\n            }\n        }\n    };\n    Dialog.prototype.maybeRenderCloseButton = function () {\n        // show close button if prop is undefined or null\n        // this gives us a behavior as if the default value were `true`\n        if (this.props.isCloseButtonShown !== false) {\n            return (React.createElement(Button, { \"aria-label\": \"Close\", className: Classes.DIALOG_CLOSE_BUTTON, icon: React.createElement(Icon, { icon: \"small-cross\", size: IconSize.LARGE }), minimal: true, onClick: this.props.onClose }));\n        }\n        else {\n            return undefined;\n        }\n    };\n    Dialog.prototype.maybeRenderHeader = function () {\n        var _a = this.props, icon = _a.icon, title = _a.title;\n        if (title == null) {\n            return undefined;\n        }\n        return (React.createElement(\"div\", { className: Classes.DIALOG_HEADER },\n            React.createElement(Icon, { icon: icon, size: IconSize.LARGE }),\n            React.createElement(H4, { id: this.titleId }, title),\n            this.maybeRenderCloseButton()));\n    };\n    Dialog.defaultProps = {\n        canOutsideClickClose: true,\n        isOpen: false,\n    };\n    Dialog.displayName = DISPLAYNAME_PREFIX + \".Dialog\";\n    Dialog = __decorate([\n        polyfill\n    ], Dialog);\n    return Dialog;\n}(AbstractPureComponent2));\nexport { Dialog };\n//# sourceMappingURL=dialog.js.map"]},"metadata":{},"sourceType":"module"}